{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/PowerAudio.js","src/animation/audio/AnimatedBackground.js","src/animation/audio/AverageCircle.js","src/animation/audio/Node.js","src/animation/audio/NodeContainer.js","src/animation/audio/NodeLinker.js","src/animation/engine/DisplayObject.js","src/animation/engine/DisplayObjectContainer.js","src/animation/engine/Point.js","src/animation/engine/Stage.js","src/audio/AudioHandler.js","src/index.js"],"names":["f","exports","module","define","amd","window","global","self","this","PowerAudio","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","apply","__generator","body","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","Object","defineProperty","Stage_1","AudioHandler_1","canvasID","stage","Stage","start","prototype","play","musicSrc","_a","default","song","pause","currentTime","init","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","hasOwnProperty","__","constructor","create","AnimatedBackground","_super","_this","setFriction","redraw","graphics","Math","min","firstOrderAverage","grayscale","parseInt","toString","clear","beginFill","drawRect","getWidth","getHeight","endFill","DisplayObject","AverageCircle","centerX","centerY","lineWidth","eyesClosed","targetPosition","PIXI","Point","lastUpdatePosition","baseRadius","radius","filter","filters","BlurFilter","position","x","update","delta","floor","Date","now","linearAverage","blur","exp","setForce","updatePosition","angle","random","PI","cos","sin","wave","firstOrderWaveform","waveAverage","reduce","acc","points","amplitude","max","lineStyle","moveTo","_i","points_1","point","lineTo","drawCircle","eyesSize","eyesY","Node","color","average","coef","velocity","DisplayObjectContainer_1","Node_1","NodeLinker_1","NodeContainer","nodes","DisplayObjectContainer","addChild","addChildAt","NodeLinker","populate","addNode","vx","vy","node","set","DisplayObject_1","Point_1","target","centerPosition","N","children","distance","atan2","dist","fx","fy","k","otherNode","dist2","clearForce","id","fx2","fy2","Graphics","appendGraphics","ID","undefined","acceleration","friction","forces","mass","name","vector","forceName","Container","j","child","point1","point2","sqrt","pow","AnimatedBackground_1","AverageCircle_1","NodeContainer_1","canvasContainerID","canvasContainer","document","getElementById","lastDelta","renderer","autoDetectRenderer","innerWidth","innerHeight","appendChild","view","render","mouse","on","data","lastUpdateDelta","removeChildAt","nodeContainer","avgCircle","run","clientWidth","clientHeight","requestAnimationFrame","bind","AudioHandler","src","context","AudioContext","webkitAudioContext","gain","createGain","connect","destination","Audio","crossOrigin","isPlaying","createMediaElementSource","analyser","createAnalyser","fftSize","FFT_SIZE","waveform","Float32Array","frequencyBinCount","getFloatTimeDomainData","updateStatsInterval","setInterval","updateStats","STATS_UPDATE_INTERVAL","prev","curr","abs","minimum","maximum","forEach","index","m","__export"],"mappings":"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","file":"power-audio.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Stage_1 = require(\"./animation/engine/Stage\");\nvar AudioHandler_1 = require(\"./audio/AudioHandler\");\nvar PowerAudio = (function () {\n    function PowerAudio(canvasID) {\n        this.stage = new Stage_1.Stage(canvasID);\n        this.stage.start();\n    }\n    PowerAudio.prototype.play = function (musicSrc) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (typeof AudioHandler_1.default.song !== \"undefined\") {\n                            AudioHandler_1.default.song.pause();\n                            AudioHandler_1.default.song.currentTime = 0;\n                        }\n                        AudioHandler_1.default.init(musicSrc);\n                        return [4, AudioHandler_1.default.play()];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    return PowerAudio;\n}());\nexports.PowerAudio = PowerAudio;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AudioHandler_1 = require(\"../../audio/AudioHandler\");\nvar DisplayObject_1 = require(\"../engine/DisplayObject\");\nvar AnimatedBackground = (function (_super) {\n    __extends(AnimatedBackground, _super);\n    function AnimatedBackground(stage) {\n        var _this = _super.call(this, stage) || this;\n        _this.setFriction(1);\n        return _this;\n    }\n    AnimatedBackground.prototype.redraw = function () {\n        if (typeof this.graphics === \"undefined\") {\n            return;\n        }\n        var ratio = Math.min(50, 256 * AudioHandler_1.default.firstOrderAverage) / 50;\n        var value = ratio * 0x11 | 0;\n        var grayscale = parseInt(\"0x\" + ((value << 16) | (value << 8) | value).toString(16), 16);\n        this.graphics.clear();\n        this.graphics.beginFill(grayscale);\n        this.graphics.drawRect(0, 0, this.stage.getWidth(), this.stage.getHeight());\n        this.graphics.endFill();\n    };\n    return AnimatedBackground;\n}(DisplayObject_1.DisplayObject));\nexports.AnimatedBackground = AnimatedBackground;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AudioHandler_1 = require(\"../../audio/AudioHandler\");\nvar DisplayObject_1 = require(\"../engine/DisplayObject\");\nvar AverageCircle = (function (_super) {\n    __extends(AverageCircle, _super);\n    function AverageCircle(stage, centerX, centerY) {\n        var _this = _super.call(this, stage) || this;\n        _this.centerX = centerX;\n        _this.centerY = centerY;\n        _this.lineWidth = 1;\n        _this.eyesClosed = false;\n        _this.targetPosition = new PIXI.Point(0, 0);\n        _this.lastUpdatePosition = 0;\n        _this.baseRadius = Math.min(stage.getWidth(), stage.getHeight()) / 12;\n        _this.radius = _this.baseRadius;\n        _this.filter = new PIXI.filters.BlurFilter();\n        _this.filters = [_this.filter];\n        _this.setFriction(1);\n        _this.position.x = centerX;\n        _this.position.y = centerY;\n        return _this;\n    }\n    AverageCircle.prototype.update = function (delta) {\n        _super.prototype.update.call(this, delta);\n        this.eyesClosed = Math.floor(10 * Date.now() / 1000) % 30 === 0;\n        this.lineWidth = 1 + AudioHandler_1.default.linearAverage * 8;\n        this.filter.blur = 0.2 + 8 * Math.exp(-16 * AudioHandler_1.default.linearAverage);\n        this.radius = this.baseRadius + 100 * AudioHandler_1.default.linearAverage;\n        this.setForce(\"main\", {\n            x: this.targetPosition.x - this.position.x,\n            y: this.targetPosition.y - this.position.y,\n        });\n        if (Date.now() > 400 + this.lastUpdatePosition) {\n            this.updatePosition();\n            this.lastUpdatePosition = Date.now();\n        }\n        this.redraw();\n    };\n    AverageCircle.prototype.updatePosition = function () {\n        var angle = Math.random() * 2 * Math.PI;\n        var radius = this.baseRadius * .5;\n        var x = Math.cos(angle) * radius;\n        var y = Math.sin(angle) * radius;\n        this.targetPosition.x = this.centerX + x;\n        this.targetPosition.y = this.centerY + y;\n    };\n    AverageCircle.prototype.redraw = function () {\n        if (typeof this.graphics === \"undefined\") {\n            return;\n        }\n        this.graphics.clear();\n        var wave = AudioHandler_1.default.firstOrderWaveform;\n        var waveAverage = wave.reduce(function (acc, v) { return acc + v; }, 0) / wave.length;\n        var maxAmplitude = 100;\n        var points = [];\n        for (var i = 0, angle = Math.PI / 2; i < wave.length; ++i, angle += Math.PI / wave.length) {\n            var amplitude = Math.max(0, wave[i] - waveAverage);\n            var x = Math.cos(angle) * (this.radius + maxAmplitude * amplitude);\n            var y = Math.sin(angle) * (this.radius + maxAmplitude * amplitude);\n            points.push({ x: x, y: y });\n        }\n        var n = points.length;\n        for (var i = n - 1; i >= 0; --i) {\n            points.push({ x: -points[i].x, y: points[i].y });\n        }\n        this.graphics.beginFill(0xFFFFFF, 0.2);\n        this.graphics.lineStyle(this.lineWidth, 0xFFFFFF);\n        this.graphics.moveTo(points[0].x, points[0].y);\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            this.graphics.lineTo(point.x, point.y);\n        }\n        this.graphics.beginFill(0x111111, 1);\n        this.graphics.lineStyle(this.lineWidth, 0xFFFFFF);\n        this.graphics.drawCircle(0, 0, this.radius);\n        this.graphics.endFill();\n        this.graphics.lineStyle(this.lineWidth, 0xFFFFFF);\n        this.graphics.drawCircle(0, 0, this.radius);\n        var eyesSize = this.eyesClosed ? this.radius * 0.02 : this.radius * 0.1;\n        var eyesY = -this.radius * 0.3;\n        this.graphics.lineStyle(1, 0xFFFFFF);\n        this.graphics.beginFill(0xFFFFFF, 1);\n        this.graphics.drawRect(-eyesSize * 0.5, eyesY - eyesSize * 0.5, eyesSize, eyesSize);\n        this.graphics.drawRect(this.radius * 0.3 - eyesSize * 0.5, eyesY - eyesSize * 0.5, eyesSize, eyesSize);\n    };\n    return AverageCircle;\n}(DisplayObject_1.DisplayObject));\nexports.AverageCircle = AverageCircle;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AudioHandler_1 = require(\"../../audio/AudioHandler\");\nvar DisplayObject_1 = require(\"../engine/DisplayObject\");\nvar Node = (function (_super) {\n    __extends(Node, _super);\n    function Node(stage) {\n        var _this = _super.call(this, stage) || this;\n        _this.radius = 2 + Math.random() * 4;\n        _this.color = 0xFFFFFF * (Math.random() * .5 + .5);\n        _this.setFriction(1);\n        return _this;\n    }\n    Node.prototype.redraw = function () {\n        if (typeof this.graphics === \"undefined\") {\n            return;\n        }\n        var avg = 0.5 + Math.min(8, 64 * AudioHandler_1.default.average) / 16;\n        var value = avg * 0xFF | 0;\n        var grayscale = parseInt(\"0x\" + ((value << 16) | (value << 8) | value).toString(16), 16);\n        this.graphics.clear();\n        this.graphics.beginFill(AudioHandler_1.default.average > 0.15 ? this.color : grayscale);\n        this.graphics.drawCircle(0, 0, this.radius);\n        this.graphics.endFill();\n    };\n    Node.prototype.update = function (delta) {\n        _super.prototype.update.call(this, delta);\n        var coef = Math.max(0.1, AudioHandler_1.default.average * 8);\n        this.position.x += delta * this.velocity.x * (coef - 1);\n        this.position.y += delta * this.velocity.y * (coef - 1);\n        if (this.x < 0) {\n            this.x = this.stage.getWidth();\n        }\n        else if (this.x > this.stage.getWidth()) {\n            this.x = 0;\n        }\n        if (this.y < 0) {\n            this.y = this.stage.getHeight();\n        }\n        else if (this.y > this.stage.getHeight()) {\n            this.y = 0;\n        }\n        this.redraw();\n    };\n    return Node;\n}(DisplayObject_1.DisplayObject));\nexports.Node = Node;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DisplayObjectContainer_1 = require(\"../engine/DisplayObjectContainer\");\nvar Node_1 = require(\"./Node\");\nvar NodeLinker_1 = require(\"./NodeLinker\");\nvar NodeContainer = (function (_super) {\n    __extends(NodeContainer, _super);\n    function NodeContainer(stage) {\n        var _this = _super.call(this, stage) || this;\n        _this.nodes = new DisplayObjectContainer_1.DisplayObjectContainer(_this.stage);\n        _this.addChild(_this.nodes);\n        _this.addChildAt(new NodeLinker_1.NodeLinker(_this.stage, _this.nodes), 0);\n        return _this;\n    }\n    NodeContainer.prototype.populate = function () {\n        for (var x = 10; x < this.stage.getWidth(); x += 200) {\n            for (var y = 10; y < this.stage.getHeight(); y += 200) {\n                this.addNode(x + 12 * Math.random(), y + 12 * Math.random(), 0, 0);\n            }\n        }\n    };\n    NodeContainer.prototype.addNode = function (x, y, vx, vy) {\n        var node = new Node_1.Node(this.stage);\n        node.position.set(x, y);\n        node.velocity.set(vx, vy);\n        this.nodes.addChild(node);\n    };\n    return NodeContainer;\n}(DisplayObjectContainer_1.DisplayObjectContainer));\nexports.NodeContainer = NodeContainer;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DisplayObject_1 = require(\"../engine/DisplayObject\");\nvar Point_1 = require(\"../engine/Point\");\nvar NodeLinker = (function (_super) {\n    __extends(NodeLinker, _super);\n    function NodeLinker(stage, nodes) {\n        var _this = _super.call(this, stage) || this;\n        _this.target = nodes;\n        _this.centerPosition = new PIXI.Point(_this.stage.getWidth() / 2, 6 * _this.stage.getHeight() / 10);\n        return _this;\n    }\n    NodeLinker.prototype.redraw = function () {\n        if (typeof this.graphics === \"undefined\") {\n            return;\n        }\n        this.graphics.clear();\n        this.graphics.lineStyle(1, 0xFFFFFF, 0.2);\n        var N = this.target.children.length;\n        for (var i = 0; i < N; ++i) {\n            var node = this.target.children[i];\n            var distance = Point_1.Point.distance(node.position, this.centerPosition);\n            if (distance > this.stage.getWidth() / 10) {\n                continue;\n            }\n            this.graphics.moveTo(node.position.x, node.position.y);\n            this.graphics.lineTo(this.centerPosition.x, this.centerPosition.y);\n        }\n    };\n    NodeLinker.prototype.update = function (delta) {\n        _super.prototype.update.call(this, delta);\n        var N = this.target.children.length;\n        for (var i = 0; i < N; i++) {\n            var node = this.target.children[i];\n            var angle = Math.atan2(node.position.y - this.centerPosition.y, node.position.x - this.centerPosition.x);\n            var dist = Point_1.Point.distance(node.position, this.centerPosition);\n            var fx = -Math.cos(angle) * 100000 / dist;\n            var fy = -Math.sin(angle) * 100000 / dist;\n            node.setForce(\"tocenter\", { x: fx, y: fy });\n            for (var k = i + 1; k < N; k++) {\n                var otherNode = this.target.children[k];\n                var dist2 = Point_1.Point.distance(node.position, otherNode.position);\n                if (dist2 > 300) {\n                    node.clearForce(\"node_\" + otherNode.id);\n                    otherNode.clearForce(\"node_\" + node.id);\n                    continue;\n                }\n                var a = Math.atan2(node.position.y - otherNode.position.y, node.position.x - otherNode.position.x);\n                var fx2 = 0;\n                var fy2 = 0;\n                if (dist2 !== 0) {\n                    fx2 = Math.cos(a) * 10000 / dist2;\n                    fy2 = Math.sin(a) * 10000 / dist2;\n                }\n                node.setForce(\"node_\" + otherNode.id, new PIXI.Point(-fx2, -fy2));\n                otherNode.setForce(\"node_\" + node.id, new PIXI.Point(fx2, fy2));\n            }\n        }\n        this.redraw();\n    };\n    return NodeLinker;\n}(DisplayObject_1.DisplayObject));\nexports.NodeLinker = NodeLinker;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Graphics = PIXI.Graphics;\nvar DisplayObject = (function (_super) {\n    __extends(DisplayObject, _super);\n    function DisplayObject(stage, appendGraphics) {\n        var _this = _super.call(this) || this;\n        appendGraphics = typeof (appendGraphics) === \"undefined\" ? true : appendGraphics;\n        _this.id = DisplayObject.ID++;\n        _this.stage = stage;\n        _this.graphics = undefined;\n        _this.velocity = new PIXI.Point(0, 0);\n        _this.acceleration = new PIXI.Point(0, 0);\n        _this.friction = new PIXI.Point(0, 0);\n        _this.forces = {};\n        _this.mass = 1;\n        if (appendGraphics) {\n            _this.graphics = new Graphics();\n            _this.addChild(_this.graphics);\n        }\n        return _this;\n    }\n    DisplayObject.prototype.setForce = function (name, vector) {\n        this.forces[name] = {\n            x: vector.x,\n            y: vector.y,\n        };\n    };\n    DisplayObject.prototype.clearForce = function (name) {\n        delete this.forces[name];\n    };\n    DisplayObject.prototype.setFriction = function (value) {\n        if (typeof value === \"number\") {\n            this.friction = new PIXI.Point(value, value);\n        }\n        else {\n            this.friction.set(value.x, value.y);\n        }\n    };\n    DisplayObject.prototype.update = function (delta) {\n        this.setForce(\"friction\", new PIXI.Point(-this.friction.x * this.velocity.x, -this.friction.y * this.velocity.y));\n        this.acceleration.set(0, 0);\n        for (var forceName in this.forces) {\n            if (!this.forces.hasOwnProperty(forceName)) {\n                continue;\n            }\n            this.acceleration.x += this.forces[forceName].x;\n            this.acceleration.y += this.forces[forceName].y;\n        }\n        this.acceleration.x /= this.mass;\n        this.acceleration.y /= this.mass;\n        this.velocity.x += delta * this.acceleration.x;\n        this.velocity.y += delta * this.acceleration.y;\n        this.position.x += delta * this.velocity.x;\n        this.position.y += delta * this.velocity.y;\n    };\n    DisplayObject.ID = 1;\n    return DisplayObject;\n}(PIXI.Container));\nexports.DisplayObject = DisplayObject;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DisplayObject_1 = require(\"./DisplayObject\");\nvar DisplayObjectContainer = (function (_super) {\n    __extends(DisplayObjectContainer, _super);\n    function DisplayObjectContainer(stage) {\n        return _super.call(this, stage, false) || this;\n    }\n    DisplayObjectContainer.prototype.update = function (delta) {\n        _super.prototype.update.call(this, delta);\n        for (var i = 0, j = this.children.length; i < j; ++i) {\n            var child = this.children[i];\n            if (child.update) {\n                child.update(delta);\n            }\n        }\n    };\n    return DisplayObjectContainer;\n}(DisplayObject_1.DisplayObject));\nexports.DisplayObjectContainer = DisplayObjectContainer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Point = (function () {\n    function Point() {\n    }\n    Point.distance = function (point1, point2) {\n        return Math.sqrt(Math.pow(point1.x - point2.x, 2) +\n            Math.pow(point1.y - point2.y, 2));\n    };\n    return Point;\n}());\nexports.Point = Point;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AnimatedBackground_1 = require(\"../audio/AnimatedBackground\");\nvar AverageCircle_1 = require(\"../audio/AverageCircle\");\nvar NodeContainer_1 = require(\"../audio/NodeContainer\");\nvar DisplayObjectContainer_1 = require(\"./DisplayObjectContainer\");\nvar Stage = (function (_super) {\n    __extends(Stage, _super);\n    function Stage(canvasID) {\n        var _this = _super.call(this, null) || this;\n        _this.canvasContainerID = canvasID;\n        _this.canvasContainer = document.getElementById(canvasID);\n        _this.lastDelta = 0;\n        _this.renderer = PIXI.autoDetectRenderer(window.innerWidth, window.innerHeight);\n        _this.canvasContainer.appendChild(_this.renderer.view);\n        _this.renderer.render(_this);\n        _this.mouse = {\n            position: new PIXI.Point(0, 0),\n        };\n        _this.on(\"mousemove\", function (e) {\n            _this.mouse.position.set(e.data.global.x, e.data.global.y);\n        });\n        _this.lastUpdateDelta = 0;\n        return _this;\n    }\n    Stage.prototype.start = function () {\n        while (this.children.length > 0) {\n            this.removeChildAt(0);\n        }\n        var nodeContainer = new NodeContainer_1.NodeContainer(this);\n        nodeContainer.populate();\n        this.addChild(nodeContainer);\n        var avgCircle = new AverageCircle_1.AverageCircle(this, this.getWidth() / 2, 6 * this.getHeight() / 10);\n        this.addChild(avgCircle);\n        this.addChildAt(new AnimatedBackground_1.AnimatedBackground(this), 0);\n        this.run();\n    };\n    Stage.prototype.getWidth = function () {\n        return this.canvasContainer.clientWidth;\n    };\n    Stage.prototype.getHeight = function () {\n        return this.canvasContainer.clientHeight;\n    };\n    Stage.prototype.update = function () {\n        var t = Date.now() / 1000;\n        this.lastDelta = t - this.lastUpdateDelta;\n        this.lastUpdateDelta = t;\n        if (this.lastDelta > 1) {\n            this.lastDelta = 0;\n        }\n        _super.prototype.update.call(this, this.lastDelta);\n        this.renderer.render(this);\n        requestAnimationFrame(this.update.bind(this));\n    };\n    Stage.prototype.run = function () {\n        this.lastUpdateDelta = Date.now() / 1000;\n        requestAnimationFrame(this.update.bind(this));\n    };\n    return Stage;\n}(DisplayObjectContainer_1.DisplayObjectContainer));\nexports.Stage = Stage;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AudioHandler = (function () {\n    function AudioHandler() {\n    }\n    AudioHandler.init = function (src) {\n        var _this = this;\n        this.context = new (AudioContext || window.webkitAudioContext)();\n        this.gain = AudioHandler.context.createGain();\n        this.gain.connect(this.context.destination);\n        this.song = new Audio(src);\n        this.song.crossOrigin = \"anonymous\";\n        this.isPlaying = false;\n        var songSource = this.context.createMediaElementSource(this.song);\n        songSource.connect(this.gain);\n        this.analyser = this.context.createAnalyser();\n        this.gain.connect(this.analyser);\n        this.analyser.fftSize = AudioHandler.FFT_SIZE;\n        this.waveform = new Float32Array(this.analyser.frequencyBinCount);\n        this.firstOrderWaveform = new Float32Array(this.analyser.frequencyBinCount);\n        this.analyser.getFloatTimeDomainData(this.waveform);\n        this.lastUpdateDelta = Date.now();\n        this.updateStatsInterval = setInterval(function () { return _this.updateStats(); }, AudioHandler.STATS_UPDATE_INTERVAL);\n    };\n    AudioHandler.updateStats = function () {\n        var _this = this;\n        var delta = (Date.now() - this.lastUpdateDelta) / 1000;\n        this.analyser.getFloatTimeDomainData(this.waveform);\n        this.average = this.waveform.reduce(function (prev, curr) { return prev + Math.abs(curr); }, 0) / this.analyser.frequencyBinCount;\n        this.minimum = this.waveform.reduce(function (a, b) { return Math.min(a, b); }, this.waveform[0]);\n        this.maximum = this.waveform.reduce(function (a, b) { return Math.max(a, b); }, this.waveform[0]);\n        this.firstOrderAverage += (this.average - this.firstOrderAverage) * 0.5 * delta;\n        this.linearAverage += delta * (this.average > this.linearAverage ? 1 : -1);\n        this.waveform.forEach(function (value, index) {\n            if (value > _this.firstOrderWaveform[index]) {\n                _this.firstOrderWaveform[index] = value;\n            }\n            else {\n                _this.firstOrderWaveform[index] += (value - _this.firstOrderWaveform[index]) * 1.1 * delta;\n            }\n        });\n        this.lastUpdateDelta = Date.now();\n    };\n    AudioHandler.play = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.song.play()];\n                    case 1:\n                        _a.sent();\n                        this.isPlaying = true;\n                        this.updateStats();\n                        return [2];\n                }\n            });\n        });\n    };\n    AudioHandler.FFT_SIZE = 256;\n    AudioHandler.STATS_UPDATE_INTERVAL = 1000 / 40;\n    AudioHandler.average = 0;\n    AudioHandler.firstOrderAverage = 0;\n    AudioHandler.linearAverage = 0;\n    AudioHandler.minimum = 0;\n    AudioHandler.maximum = 0;\n    AudioHandler.lastUpdateDelta = 0;\n    return AudioHandler;\n}());\nexports.default = AudioHandler;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./PowerAudio\"));\n"]}